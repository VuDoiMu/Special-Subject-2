doctype html

html(lang='en', dir='ltr')
    head
        meta(charset='UTF-8')
        // <title> Responsiive Admin Dashboard | CodingLab </title>
        link(rel='stylesheet', href='/css/admin-home.css')
        // Boxicons CDN Link
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/habibmhamadi/multi-select-tag/dist/css/multi-select-tag.css">
        link(href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css', rel='stylesheet')
        meta(name='viewport', content='width=device-width, initial-scale=1.0')

        link(rel='stylesheet', href='https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css', integrity='sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T', crossorigin='anonymous')
        link(rel='stylesheet', href='https://use.fontawesome.com/releases/v5.8.1/css/all.css', integrity='sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf', crossorigin='anonymous')
        link(rel='stylesheet', href='/css/admin-management.css')
        
    body
        .sidebar
            .logo-details
                i.E
                a(href="/")
                    span.logo_name EManga
            ul.nav-links
                li
                    a.active(href='/admin/dashboard/1')
                        i.bx.bx-grid-alt
                        span.links_name Dashboard
                li
                    a(href='/admin/management/1')
                        i.bx.bx-box
                        span.links_name Book managment
                li
                    a(href='/admin/category/1')
                        i.bx.bx-box
                        span.links_name Tag management
                li
                    a(href='/admin/sale')
                        i.bx.bx-list-ul
                        span.links_name Order list
                li.log_out
                    a(href='/admin/login')
                        i.bx.bx-log-out
                        span.links_name Log out
         
                //- li.log_out
                //-     a(href='/admin/login')
                //-         i.bx.bx-log-out
                //-         span.links_name Log out
        section.home-section
            nav
                .sidebar-button
                    i.bx.bx-menu.sidebarBtn
                    span.dashboard Dashboard
        
            .home-content
               
    

   




          
  
                button(id="add-book"  class='btn btn-success' type="submit") Add new Book    
                // Table
                .table-data
                    table.table
                        thead
                            tr
                                th(scope='col') Book name
                                th(scope='col') Author
                                th(scope='col') Price
                                th(scope='col') Sold
                                th(scope='col') Action



                        tbody#tbody
                            each book in books 
                                tr
                                th( scope="row") #{book.name}
                                th( scope="row") #{book.author}
                                th( scope="row") #{book.price}
                                th( scope="row") #{book.countSale}
                                th( scope="row")

                                    button(id='btn-update' class='btn btn-warning updateButton' name=`${book._id}`) 
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil" viewBox="0 0 16 16">
                                        <path d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"/>
                                        </svg>

                                    button(id=`btn-delete` name=`${book._id}`  class='btn btn-danger deleteButton') X
                        ul.pagination.justify-content-center
                            - const maxPagesToShow = totalPages; 
                            - const middlePage = Math.ceil(maxPagesToShow/2);
                            - let startPage = Math.max(currentPage - middlePage, 1);
                            - let endPage = Math.min(startPage + maxPagesToShow - 1, totalPages);
                            - if (endPage - startPage < maxPagesToShow) {
                            -   startPage = Math.max(endPage - maxPagesToShow + 1, 1);
                            - }    
                            if currentPage > 1
                                li.page-item
                                    a.page-link(href=`/admin/management/${currentPage-1}`) Previous
                            - for (var i = startPage; i <= endPage; i++) {
                                li.page-item(class=i===currentPage ? 'active' : '')
                                    a.page-link(href=`/admin/management/${i}`)= i
                            - }
                            if (currentPage < totalPages)
                                li.page-item
                                    a.page-link(href=`/admin/management/${currentPage+1}`) Next
    script(src='/js/admin.js' )